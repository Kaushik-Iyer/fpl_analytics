<!-- filepath: /home/kaushik/fpl2/fpl_analytics/app/views/managers/_manager_info.html.erb -->
<turbo-frame id="row3col1">
  <div class="bg-white p-6 rounded-lg shadow-md">
    <!-- Main Form Section -->
    <div class="mb-6">
      <h2 class="text-2xl font-bold mb-4">Find Your Team</h2>

      <%= form_with url: managers_show_path, method: :get, class: "space-y-4" do |f| %>
        <div class="flex items-center space-x-4">
          <div class="flex-grow">
            <label for="manager_id" class="block text-sm font-medium text-gray-700 mb-1">
              Manager ID
            </label>
            <!-- Inline tip instead of a modal -->
            <p class="text-sm text-gray-700 mb-2">
              Just visit your FPL team page. The number in the URL (after "entry/") is your Manager ID.
            </p>
            <input type="text" 
                   name="manager_id" 
                   class="w-full px-4 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
          </div>
          <button type="submit" 
                  class="px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 
                         transition duration-150 ease-in-out shadow-sm">
            Search
          </button>
        </div>
      <% end %>
    </div>

    <!-- Manager Details Section -->
    <% if manager_data.present? && manager_data.any? %>
      <div class="mt-6">
        <h3 class="text-xl font-semibold mb-4">Manager Details</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <strong>Name:</strong>
            <p><%= manager_data["player_first_name"] %> <%= manager_data["player_last_name"] %></p>
          </div>
          <div>
            <strong>Team Name:</strong>
            <p><%= manager_data["name"] %></p>
          </div>
          <div>
            <strong>Overall Rank:</strong>
            <p><%= manager_data["summary_overall_rank"] %></p>
          </div>
          <div>
            <strong>Total Points:</strong>
            <p><%= manager_data["summary_overall_points"] %></p>
          </div>
          <!-- Add more fields as necessary -->
        </div>
      </div>
    <% elsif @manager_id.present? %>
      <div class="mt-6 text-red-500">
        <p>Manager ID not found. Please check the ID and try again.</p>
      </div>
    <% end %>
  </div>
</turbo-frame>